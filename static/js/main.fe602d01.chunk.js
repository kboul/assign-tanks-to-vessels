(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){e.exports=a(222)},111:function(e,t,a){},222:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(28),c=a.n(r),i=(a(109),a(110),a(111),a(13)),s=a(7),o=a(231),m=a(14),u={TOGGLE_MODAL_TO_REGISTER_TANK:"TOGGLE_MODAL_TO_REGISTER_TANK",REGISTER_TANK:"REGISTER_TANK",ASSIGN_TANK_TO_VESSEL:"ASSIGN_TANK_TO_VESSEL",TOGGLE_MODAL_TO_ASSIGN_TANK_TO_VESSEL:"TOGGLE_MODAL_TO_ASSIGN_TANK_TO_VESSEL",SELECT_TANK:"SELECT_TANK",SELECT_VESSEL:"SELECT_VESSEL"},d={isModalToRegisterTankVisible:!1,isModalToAssignTankToVesselVisible:!1};var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;switch((arguments.length>1?arguments[1]:void 0).type){case u.TOGGLE_MODAL_TO_REGISTER_TANK:return Object(m.a)({},e,{isModalToRegisterTankVisible:!e.isModalToRegisterTankVisible});case u.TOGGLE_MODAL_TO_ASSIGN_TANK_TO_VESSEL:return Object(m.a)({},e,{isModalToAssignTankToVesselVisible:!e.isModalToAssignTankToVesselVisible});default:return e}},b=a(15),T=[{name:"Astoria",flag:"Greece"},{name:"Lady Gloria",flag:"Malta"},{name:"17th October",flag:"Netherlands"},{name:"Jela Delta",flag:"Greece"},{name:"Claudia",flag:"Malta"},{name:"Janna",flag:"Denmark"}],f=Object(b.a)(T.map(function(e){return e.name})),g=function(e){return T.filter(function(t){return e===t.name}).map(function(e){return e.flag}).join("")},O=function(e,t,a){return e.filter(function(e){return e.flag===t&&e.cylinderSize===a}).length},S={registeredTanks:[],selectedTank:{},selectedVessel:"",flagConstraint:!1,tankWithSameId:!1};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.REGISTER_TANK:return e.tankWithSameId=!1,e.flagConstraint=!1,e.registeredTanks.filter(function(e){return e.unimedId===t.tank.unimedId}).length>0?(e.tankWithSameId=!0,Object(m.a)({},e,{registeredTanks:Object(b.a)(e.registeredTanks)})):Object(m.a)({},e,{registeredTanks:[].concat(Object(b.a)(e.registeredTanks),[Object(m.a)({},t.tank)])});case u.SELECT_TANK:return Object(m.a)({},e,{selectedTank:Object(m.a)({},t.tank)});case u.ASSIGN_TANK_TO_VESSEL:var a,n=e.registeredTanks;e.flagConstraint=!1,e.tankWithSameId=!1,n.forEach(function(t){t.unimedId===e.selectedTank.unimedId&&(a=n.findIndex(function(t){return t.unimedId===e.selectedTank.unimedId}))});var l=n[a]=Object(m.a)({},n[a],{vessel:t.vesselName,flag:g(t.vesselName)}),r=n.filter(function(e){return e.unimedId!==n[a].unimedId}),c=O(n,"Greece","MOX-40"),i=O(n,"Greece","MOX-10"),s=O(n,"Greece","MOX-5"),o=O(n,"Greece","MOX-2"),d=O(n,"Malta","MOX-40"),E=O(n,"Malta","MOX-10"),T=O(n,"Malta","MOX-5"),f=O(n,"Malta","MOX-2"),k=O(n,"Netherlands","MOX-40"),p=O(n,"Netherlands","MOX-10"),h=O(n,"Netherlands","MOX-5"),v=O(n,"Netherlands","MOX-2"),_=O(n,"Denmark","MOX-40"),N=O(n,"Denmark","MOX-10"),y=O(n,"Denmark","MOX-5"),A=O(n,"Denmark","MOX-2");return c>2||i>4||s>2||o>2||d>1||E>2||T>0||f>6||k>2||p>2||h>1||v>3||_>3||N>4||y>2||A>1?(e.flagConstraint=!0,Object(m.a)({},e,{registeredTanks:[].concat(Object(b.a)(r),[n[a]=Object(m.a)({},n[a],{vessel:""})])})):Object(m.a)({},e,{registeredTanks:[l].concat(Object(b.a)(r))});case u.SELECT_VESSEL:return Object(m.a)({},e,{selectedVessel:t.vessel});default:return e}},p=Object(s.b)({form:o.a,modal:E,tanks:k}),h=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,v=Object(s.d)(p,h()),_=function(e){var t=e.children;return l.a.createElement(i.a,{store:v},t)},N=a(232),y=a(223),A=a(224),M={backgroundColor:"lightgrey"},I=function(e){var t=e.modal,a=e.toggle,n=e.header,r=e.children;return l.a.createElement(N.a,{isOpen:t,toggle:a,size:"lg"},l.a.createElement(y.a,{style:M,toggle:a},n),l.a.createElement(A.a,null,r))},V=a(229),j=a(230),G=function(e){var t=e.input;return l.a.createElement("input",Object.assign({className:"form-control"},t,{type:"text"}))},L=function(e){var t=e.name,a=e.label;return l.a.createElement("div",null,l.a.createElement("label",null,l.a.createElement("b",null,a)),l.a.createElement("div",{className:"form-group"},l.a.createElement(j.a,{name:t,component:G,type:"text"})))},w=function(e){var t=e.name,a=e.label,n=e.options;return l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement("b",null,a)),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",null,l.a.createElement(j.a,{className:"form-control",name:t,component:"select"},n.map(function(e,t){return l.a.createElement("option",{key:t,value:e},e)})))))},C=[{name:"unimedId",label:"Unimed Id",abbreviation:"UMM ID"},{name:"cyclinderSerialNumber",label:"Cylinder Serial Number",abbreviation:"Serial Number"}],R=[{name:"cylinderSize",label:"Cylinder Size",options:["MOX-40","MOX-10","MOX-5","MOX-2"],abbreviation:"Cylinder Size"},{name:"origin",label:"Origin",options:["US","EU","OTHER"],abbreviation:"Origin"},{name:"owner",label:"Owner",options:["UNIMED","OTHER"],abbreviation:"Owner"}],X=[].concat(Object(b.a)(C.map(function(e){return e.label})),Object(b.a)(R.map(function(e){return e.label}))),K=[].concat(Object(b.a)(C.map(function(e){return e.abbreviation})),Object(b.a)(R.map(function(e){return e.abbreviation}))),D=Object(V.a)({form:"registerTank",initialValues:{unimedId:"",cyclinderSerialNumber:"",cylinderSize:"MOX-40",origin:"US",owner:"UNIMED"}})(function(e){var t=e.handleSubmit,a=e.pristine,n=e.reset,r=e.submitting;return l.a.createElement("form",{onSubmit:t},C.map(function(e,t){var a=e.name,n=e.label;return l.a.createElement("div",{key:t},l.a.createElement(L,{label:n,name:a}))}),R.map(function(e,t){var a=e.label,n=e.name,r=e.options;return l.a.createElement("div",{key:t},l.a.createElement(w,{label:a,name:n,options:r}))}),l.a.createElement("button",{className:"btn btn-primary btn float-right",type:"submit",disabled:a||r},"Save"),l.a.createElement("button",{className:"btn btn-primary btn float-right mr-4",type:"button",disabled:a||r,onClick:n},"Cancel"))}),x=a(50),z=a(51),U=a(54),W=a(52),H=a(55),F=a(53),J=function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(l)))).state={currentRowIndex:""},a.handleChangeId=function(e){a.setState({currentRowIndex:e})},a}return Object(H.a)(t,e),Object(z.a)(t,[{key:"render",value:function(){var e=this,t=this.state.currentRowIndex,a=this.props.selectVessel;return l.a.createElement("div",{className:"mt-4 mb-4"},l.a.createElement("h4",null,"Vessel List"),l.a.createElement("table",{className:"table mt-2 ".concat(F.tables)},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Flag"))),l.a.createElement("tbody",null,T.map(function(n,r){var c,i,s=n.name,o=n.flag;return l.a.createElement("tr",{style:(c=r,i=t,{cursor:"pointer",backgroundColor:c===i?"#2196F3":"",color:c===i?"#ffffff":""}),key:r,onClick:function(){e.handleChangeId(r),a(s)}},l.a.createElement("td",null,s),l.a.createElement("td",null,o))}))),l.a.createElement("p",{className:"text-center"},"Select a Vessel from table above to display oxygen tanks per ship."))}}]),t}(n.Component),B=Object(i.b)(null,{selectVessel:function(e){return{type:u.SELECT_VESSEL,vessel:e}}})(J),P=Object(V.a)({form:"selectVessel",initialValues:{selectVessel:"Astoria"}})(function(e){var t=e.handleSubmit,a=e.submitting;return l.a.createElement("form",{onSubmit:t},l.a.createElement(w,{label:"Select Vessel",name:"selectVessel",options:f}),l.a.createElement("button",{className:"btn btn-primary btn float-right",type:"submit",disabled:a},"Save"))}),q=function(e){var t=e.constraint,a=e.children;return t?l.a.createElement("div",{className:"alert alert-danger m-2"},a):null},$=Object(i.b)(function(e){return{tanks:e.tanks,modal:e.modal,vessel:e.form.selectVessel}},{toggleModalToAssignTankToVessel:function(){return{type:u.TOGGLE_MODAL_TO_ASSIGN_TANK_TO_VESSEL}},selectTank:function(e){return{type:u.SELECT_TANK,tank:e}},assignTankToVessel:function(e){return{type:u.ASSIGN_TANK_TO_VESSEL,vesselName:e}}})(function(e){var t,a=e.tanks,r=a.registeredTanks,c=a.flagConstraint,i=a.tankWithSameId,s=e.modal.isModalToAssignTankToVesselVisible,o=e.toggleModalToAssignTankToVessel,m=e.selectTank,u=e.assignTankToVessel,d=e.vessel;return 0===r.length?l.a.createElement("p",{className:"mt-2"},"No registered tanks."):l.a.createElement(n.Fragment,null,l.a.createElement("h4",{className:"mt-4"},"Pool of Registered Oxygen Tanks"),l.a.createElement("table",{className:"table mt-2 ".concat(F.tables)},l.a.createElement("thead",null,l.a.createElement("tr",null,X.map(function(e,t){return l.a.createElement("th",{key:t,scope:"col"},e)}),l.a.createElement("th",null,"Assign Tank To Vessel"))),l.a.createElement("tbody",null,r.map(function(e){return l.a.createElement(n.Fragment,{key:e.unimedId},l.a.createElement("tr",null,l.a.createElement("td",null,e.unimedId),l.a.createElement("td",null,e.cyclinderSerialNumber),l.a.createElement("td",null,e.cylinderSize),l.a.createElement("td",null,e.origin),l.a.createElement("td",null,e.owner),l.a.createElement("td",null,l.a.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){m(e),o()}},"Assign"))))}))),l.a.createElement("div",{className:"m-2"},1===(t=r).length?"There is 1 registered tank.":"There are ".concat(t.length," registered tanks.")),l.a.createElement(q,{constraint:i},"There is already a tank with this Id"),l.a.createElement(q,{constraint:c},"The selected vessel can not receive more tanks of this type"),l.a.createElement(I,{header:"Assign Tank To Vessel",modal:s,toggle:function(){return o()}},l.a.createElement(P,{onSubmit:function(){u(d.values.selectVessel),o()}})))}),Q=a(225),Y=a(226),Z=a(227),ee=a(228),te={fontSize:"24px"},ae=function(e){var t=e.isAccordionCollapsed;return l.a.createElement("i",{className:"fa fa-angle-".concat(t?"down":"up"),"aria-hidden":"true",style:te})},ne=a(74),le=function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(U.a)(this,(e=Object(W.a)(t)).call.apply(e,[this].concat(l)))).state={collapse:!0},a.toggle=function(){a.setState({collapse:!a.state.collapse})},a}return Object(H.a)(t,e),Object(z.a)(t,[{key:"render",value:function(){var e=this.props,t=e.header,a=e.children,n=this.state.collapse;return l.a.createElement("div",{className:"row no-gutters"},l.a.createElement("div",{className:"col"},l.a.createElement(Q.a,{className:ne.card},l.a.createElement(Y.a,{className:ne.cardHeader,onClick:this.toggle},l.a.createElement(ae,{isAccordionCollapsed:n}),"\xa0 ",t),l.a.createElement(Z.a,{isOpen:n},l.a.createElement(ee.a,null,a)))))}}]),t}(n.Component),re={fontSize:"16px"},ce=Object(i.b)(function(e){return{tanks:e.tanks}})(function(e){var t=e.tanks,a=t.registeredTanks,n=t.selectedVessel;return 0===a.length?null:l.a.createElement("div",{className:"mt-4"},l.a.createElement("h4",null,"Vessels Grid"),R[0].options.map(function(e,t){return l.a.createElement(le,{key:t,header:e},l.a.createElement("table",{className:"table"},l.a.createElement("thead",{style:re},l.a.createElement("tr",null,K.map(function(e,t){return l.a.createElement("th",{key:t,scope:"col"},e)}))),l.a.createElement("tbody",null,a.filter(function(t){return t.cylinderSize===e&&t.vessel===n}).map(function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.unimedId),l.a.createElement("td",null,e.cyclinderSerialNumber),l.a.createElement("td",null,e.cylinderSize),l.a.createElement("td",null,e.origin),l.a.createElement("td",null,e.owner))}))))}))}),ie=Object(i.b)(function(e){return{modal:e.modal,tank:e.form.registerTank}},{toggleModalToRegisterTank:function(){return{type:u.TOGGLE_MODAL_TO_REGISTER_TANK}},registerTank:function(e){return{type:u.REGISTER_TANK,tank:e}}})(function(e){var t=e.modal.isModalToRegisterTankVisible,a=e.toggleModalToRegisterTank,n=e.registerTank,r=e.tank;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("button",{className:"btn btn-primary",onClick:function(){return a()}},"Register Tank"),l.a.createElement(I,{header:"Add New Tank",modal:t,toggle:function(){return a()}},l.a.createElement(D,{onSubmit:function(){a(),n(r.values)}})),l.a.createElement($,null),l.a.createElement(B,null)),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(ce,null)))}),se=function(){return l.a.createElement("div",{className:"container mt-2"},l.a.createElement(ie,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(_,null,l.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},53:function(e,t,a){e.exports={tables:"tables_tables__2I0An"}},74:function(e,t,a){e.exports={card:"accordion_card__2p65y",cardHeader:"accordion_cardHeader__3qufT"}}},[[104,1,2]]]);
//# sourceMappingURL=main.fe602d01.chunk.js.map